!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.greuler=t()}}(function(){return function t(e,n,r){function i(a,u){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[a]={exports:{}};e[a][0].call(d.exports,function(t){var n=e[a][1][t];return i(n?n:t)},d,d.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){return null==t?[]:Array.isArray(t)?t:[t]}},{}],2:[function(t,e,n){"use strict";function r(t){var e;if(arguments.length){if("number"!=typeof t||t!==t||t%1!==0||1>t)throw new TypeError("lcg()::invalid input argument. Seed must be a positive integer.");e=t}else e=Date.now()%1e8;return function(t){var n,r;if(!arguments.length)return e^=i,e=a*e%o,r=e/o,e^=i,r;if("number"!=typeof t||t!==t||t%1!==0||1>t)throw new TypeError("lcg()::invalid input argument. Array length must be a positive integer.");n=new Array(t);for(var u=0;t>u;u++)e^=i,e=a*e%o,n[u]=e/o,e^=i;return n}}var i=123459876,o=2147483647,a=16807;e.exports=r},{}],3:[function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},a=function(t){if(!t||"[object Object]"!==i.call(t))return!1;var e=r.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!n)return!1;var o;for(o in t);return"undefined"==typeof o||r.call(t,o)};e.exports=function u(){var t,e,n,r,i,s,l=arguments[0],d=1,c=arguments.length,f=!1;for("boolean"==typeof l?(f=l,l=arguments[1]||{},d=2):("object"!=typeof l&&"function"!=typeof l||null==l)&&(l={});c>d;++d)if(t=arguments[d],null!=t)for(e in t)n=l[e],r=t[e],l!==r&&(f&&r&&(a(r)||(i=o(r)))?(i?(i=!1,s=n&&o(n)?n:[]):s=n&&a(n)?n:{},l[e]=u(f,s,r)):"undefined"!=typeof r&&(l[e]=r));return l}},{}],4:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("arrify"),u=r(a),s=t("extend"),l=r(s),d=t("./elements/node"),c=r(d),f=t("./elements/edge"),h=r(f),g=t("./Graph"),p=r(g),y=t("./selector/GreulerDefaultTransition"),v=r(y),m=window.d3,w=window.cola,k=function(){function t(e,n){i(this,t);var r=this;this.events=m.dispatch("layout","firstLayoutEnd"),this.markerId="marker-"+e,this.defaultOptions(n),this.createGraph(),this.selector=new v["default"](this),this.nodeDrawer=c["default"]().owner(this),this.edgeDrawer=h["default"]().owner(this),this.layout=w.d3adaptor(),this.layout.on("tick",function(){r.tick()});var o=!0;this.layout.on("end",function(){o&&(r.events.firstLayoutEnd(),o=!1)})}return o(t,[{key:"createGraph",value:function(){var t=this.options.data,e=t.nodes,n=t.links;t.nodes=[],t.links=[],this.graph=new p["default"](this,t),e.forEach(function(t){this.graph.addNode(t)},this),n.forEach(function(t){this.graph.addEdge(t)},this)}},{key:"defaultOptions",value:function(t){t=this.options=l["default"]({width:700,height:300,animationTime:1e3,labels:!0,directed:!1},t),this.options.data=l["default"]({nodes:[],links:[],groups:[],constraints:[],avoidOverlaps:!0,size:[t.width,t.height],linkDistance:function(t){return t.linkDistance||80}},this.options.data)}},{key:"initLayout",value:function(t){var e=this;if(!t.skipLayout){var n={nodes:!0,links:!0,groups:!0,constraints:!0,distanceMatrix:!0,size:!0};Object.keys(e.options.data).forEach(function(t){var r=e.options.data[t];n[t]?e.layout[t](u["default"](r)):e.layout[t].apply(e.layout,u["default"](r))},this),this.layout.start.apply(this.layout,t.iterations)}}},{key:"tick",value:function(){this.edgeGroup.call(this.edgeDrawer),this.nodeGroup.call(this.nodeDrawer)}},{key:"update",value:function(t){return t=l["default"](!0,{skipLayout:!1,iterations:[]},t),this.initLayout(t),this.build(t),t.skipLayout&&this.tick(),this}},{key:"build",value:function(){this.root=m.select(this.options.target).selectAll("svg.greuler").data([this.options]),this.root.enter=this.root.enter().append("svg").attr("class","greuler"),this.root.enter.append("svg:defs").append("svg:marker").attr("id",this.markerId).attr("viewBox","0 -5 10 10").attr("refX",9).attr("markerWidth",5).attr("markerHeight",5).attr("orient","auto").append("svg:path").attr("d","M0,-4L10,0L0,4L2,0").attr("stroke-width","0px").attr("fill-opacity",1).attr("fill","#777"),this.root.attr("width",this.options.width).attr("height",this.options.height),this.edgeGroup=this.root.selectAll("g.edges").data(function(t){return[t.data]}),this.edgeGroup.enter().append("g").attr("class","edges"),this.nodeGroup=this.root.selectAll("g.nodes").data(function(t){return[t.data]}),this.nodeGroup.enter().append("g").attr("class","nodes")}}]),t}();n["default"]=k,e.exports=n["default"]},{"./Graph":5,"./elements/edge":8,"./elements/node":9,"./selector/GreulerDefaultTransition":16,arrify:1,extend:3}],5:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<t.length;n+=1)if(t[n].id===e)return!0}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=t("extend"),s=r(u),l=t("./utils"),d=r(l),c=t("./const"),f={r:10,fill:"#2980B9"},h={stroke:c.colors.LIGHT_GRAY},g=function(){function t(e,n){i(this,t),this.owner=e,this.nodes=n.nodes,this.edges=n.links}return a(t,[{key:"addNode",value:function(){for(var e=0;e<arguments.length;e+=1){var n=arguments[e];if(!n.hasOwnProperty("id"))throw Error("the object must have the property `id`");if(this.getNode(n))throw Error("node already in store");this.nodes.push(t.appendNodeDefaults.call(this.owner,n))}}},{key:"getNode",value:function(t){return this.getNodesByFn(function(e){return e.id===t.id})[0]}},{key:"getNodesByFn",value:function(t){return this.nodes.filter(t)}},{key:"getAdjacentNodes",value:function(t){for(var e,n=[],r={},i=0;i<this.edges.length;i+=1){var o=this.edges[i];e=null,o.source.id===t.id?e=o.target:o.target.id===t.id&&(e=o.source),e&&!r[e.id]&&(r[e.id]=!0,n.push(e))}return n}},{key:"getSuccessorNodes",value:function(t){for(var e,n=[],r={},i=0;i<this.edges.length;i+=1){var o=this.edges[i];e=null,o.source.id===t.id&&(e=o.target),e&&!r[e.id]&&(r[e.id]=!0,n.push(e))}return n}},{key:"getPredecessorNodes",value:function(t){for(var e,n=[],r={},i=0;i<this.edges.length;i+=1){var o=this.edges[i];e=null,o.target.id===t.id&&(e=o.source),e&&!r[e.id]&&(r[e.id]=!0,n.push(e))}return n}},{key:"removeNode",value:function(t){this.removeNodesByFn(function(e){return e.id===t.id})}},{key:"removeNodes",value:function(t){this.removeNodesByFn(function(e){return o(t,e.id)})}},{key:"removeNodesByFn",value:function(t){var e;for(e=0;e<this.nodes.length;e+=1)if(t(this.nodes[e],e)){var n=this.nodes.splice(e,1);this.removeEdges(this.getIncidentEdges(n[0])),e-=1}}},{key:"addEdge",value:function(){for(var e=0;e<arguments.length;e+=1){var n=arguments[e];if(!n.hasOwnProperty("source")||!n.hasOwnProperty("target"))throw Error("the edge must have the properties `source` and `target`");var r=n.source,i=n.target;if("object"!=typeof r&&(r=this.getNode({id:n.source})),"object"!=typeof i&&(i=this.getNode({id:n.target})),!r||!i)throw Error("new edge does not join existing vertices");n.source=r,n.target=i,this.edges.push(t.appendEdgeDefaults.call(this.owner,n))}}},{key:"getEdge",value:function(t){return this.getEdgesByFn(function(e){return e.id===t.id})[0]}},{key:"getEdgesBetween",value:function(t){return this.getEdgesByFn(function(e){return e.source.id===t.source&&e.target.id===t.target})}},{key:"getAllEdgesBetween",value:function(t){return this.getEdgesByFn(function(e){return e.source.id===t.source&&e.target.id===t.target||e.source.id===t.target&&e.target.id===t.source})}},{key:"removeEdge",value:function(t){this.removeEdgesByFn(function(e){return e.id===t.id})}},{key:"removeEdges",value:function(t){this.removeEdgesByFn(function(e){return o(t,e.id)})}},{key:"removeEdgesByFn",value:function(t){var e;for(e=0;e<this.edges.length;e+=1)t(this.edges[e],e)&&(this.edges.splice(e,1),e-=1)}},{key:"getEdgesByFn",value:function(t){return this.edges.filter(t)}},{key:"getOutgoingEdges",value:function(t){return this.getEdgesByFn(function(e){return e.source.id===t.id})}},{key:"getIncomingEdges",value:function(t){return this.getEdgesByFn(function(e){return e.target.id===t.id})}},{key:"getIncidentEdges",value:function(t){return this.getOutgoingEdges(t).concat(this.getIncomingEdges(t))}},{key:"add",value:function(){for(var t=0;t<arguments.length;t+=1){var e=arguments[t];e.hasOwnProperty("source")&&e.hasOwnProperty("target")?this.addEdge(e):this.addNode(e)}}}],[{key:"appendNodeDefaults",value:function(t){return t.hasOwnProperty("id")||(t.id=d["default"].id()),t=s["default"]({},f,this.options.nodeDefaults,t),t.hasOwnProperty("width")||(t.width=2*t.r),t.hasOwnProperty("height")||(t.height=2*t.r),t}},{key:"appendEdgeDefaults",value:function(t){return t.hasOwnProperty("id")||(t.id=d["default"].id()),t=s["default"]({},h,this.options.edgeDefaults,t)}},{key:"random",value:function(t){function e(t,e){a[t][e]=a[e][t]=!0}t=s["default"]({order:10,size:15,connected:!1,multiGraph:!1,pseudoGraph:!1},t);var n,r,i,o=[],a=[];for(n=0;n<t.order;n+=1)a[n]=[],o.push({id:n});var u=[];if(n=0,t.connected){for(n=1;n<t.order;n+=1)i=Math.floor(Math.random()*n),e(n,i),u.push({source:n,target:i});n-=1}for(;n<t.size;n+=1)r=Math.floor(Math.random()*t.order),i=Math.floor(Math.random()*t.order),r!==i||t.pseudoGraph?a[r][i]&&!t.multiGraph?n-=1:(e(r,i),u.push({source:r,target:i})):n-=1;return{nodes:o,links:u}}}]),t}();n["default"]=g,e.exports=n["default"]},{"./const":7,"./utils":17,extend:3}],6:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){r(this,t),this.x=e,this.y=n}return i(t,null,[{key:"neg",value:function(e){return new t(-e.x,-e.y)}},{key:"len",value:function(e){return Math.sqrt(t.lenSq(e))}},{key:"lenSq",value:function(t){return t.x*t.x+t.y*t.y}},{key:"unit",value:function(e){if(0===e.x&&0===e.y)throw Error("the length of the vector is 0");var n=this.len(e);return new t(e.x/n,e.y/n)}},{key:"orthogonal",value:function(e){return new t(-e.y,e.x)}},{key:"angleDeg",value:function(t){return 180*Math.atan2(t.y,t.x)/Math.PI}},{key:"add",value:function(e,n){return new t(e.x+n.x,e.y+n.y)}},{key:"sub",value:function(e,n){return new t(e.x-n.x,e.y-n.y)}},{key:"dot",value:function(t,e){return t.x*e.x+t.y*e.y}},{key:"scale",value:function(e,n){return new t(e.x*n,e.y*n)}},{key:"mid",value:function(e,n){return t.scale(t.add(e,n),.5)}},{key:"angleBetween",value:function(e,n){return Math.acos(t.dot(e,n)/t.len(e)-t.len(n))}},{key:"rotate",value:function(e,n){var r=Math.cos(n),i=Math.sin(n),o=e.x*r-e.y*i,a=e.x*i+e.y*r;return new t(o,a)}}]),t}();n["default"]=o,e.exports=n["default"]},{}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=window.d3,i=r.scale.category20(),o={},a=["BLUE","ORANGE","GREEN","RED","PURPLE","BROWN","PINK","GRAY","YELLOW","CYAN"];a.forEach(function(t,e){o[t]=i.range()[2*e],o["LIGHT_"+t]=i.range()[2*e+1]}),o.randomFromPalette=function(){return i.range()[Math.floor(20*Math.random())]},n.colors=o},{}],8:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i=t("extend"),o=r(i),a=t("../Vector"),u=r(a),s=t("../utils"),l=r(s),d=window.d3;n["default"]=function(){function t(t,e){var n=t.r,r=u["default"].unit(u["default"].sub(e,t));return u["default"].add(t,u["default"].scale(r,n))}function e(t,e,n){function r(t){return t*Math.PI/180}for(var o=i.graph.getAdjacentNodes(t),a=new u["default"](0,0),s=0;s<o.length;s+=1){var l=o[s];t.id!==l.id&&(a=u["default"].unit(u["default"].add(a,u["default"].unit(u["default"].sub(t,l)))))}0===a.x&&0===a.y&&(a=u["default"].unit(new u["default"](0,-1)));var d=u["default"].orthogonal(a),c=u["default"].scale(a,t.r+4),f=r(25),h=f+(n-1)*f,g=u["default"].add(t,u["default"].rotate(c,h)),p=u["default"].add(t,u["default"].rotate(c,-h)),y=.6*e*(n+1),v=u["default"].add(t,u["default"].scale(a,t.r+y)),m=u["default"].add(g,u["default"].scale(a,.5*y)),w=u["default"].add(p,u["default"].scale(a,.5*y)),k=u["default"].add(m,u["default"].scale(d,y/4)),b=u["default"].add(w,u["default"].scale(d,-y/4));return{path:[g,k,v,b,p],dir:d}}function n(n,r,i){var a,s,l,d,c;if(a=n.source,s=n.target,a.id>s.id){var f=[s,a];a=f[0],s=f[1]}r[a.id]=r[a.id]||{},l=a,d=s,a.id!==s.id&&(l=t(a,s),d=t(s,a)),c=r[a.id][s.id]=r[a.id][s.id]||{count:1,mid:u["default"].mid(l,d),direction:-1};var h=[];if(a.id===s.id){var g=e(a,i,c.count);h=g.path,n.unit=g.dir}else{var p=u["default"].unit(u["default"].sub(s,a));o["default"](c,{unit:p,unitOrthogonal:u["default"].orthogonal(p)}),h.push(u["default"].add(c.mid,u["default"].scale(c.unitOrthogonal,Math.floor(c.count/2)*i*c.direction))),n.unit=c.unit}c.count+=1,c.direction*=-1;var y=t(n.source,h[0]),v=t(n.target,h[h.length-1]);n.path=[y].concat(h).concat([v])}function r(t){function e(t){t.attr("transform",function(t){var e=u["default"].angleDeg(t.unit),n=t.path[Math.floor(t.path.length/2)];return l["default"].transform({translate:n,rotate:e})})}var r=t.selectAll("g.edge").data(function(t){return t.links},function(t){return t.id});r.enter().append("g").attr("class","edge").attr("opacity",0).attr("id",function(t){return l["default"].ns(t.id)}).transition("enter").attr("opacity",1),r.each(function(t){var e=d.select(this),n={directed:t.directed||i.options.directed};n["source-"+t.source.id]=!0,n["target-"+t.target.id]=!0,e.classed(n)});var o={};r.each(function(t){n(t,o,17)});var s=r.selectAll("path").data(function(t){return[t,t]});s.enter().append("path").attr("stroke",function(t){return t.stroke}).attr("fill","transparent").attr("stroke-width",2).each(function(t,e){var n=d.select(this);n.attr("opacity",e?0:1),0===e&&n.classed("base",!0),1===e&&(n.attr("stroke-width",5),n.classed("traversal",!0))}),l["default"].conditionalTransition(s,!i.nodeDragging).attr("d",function(t){return a(t.path)}),s.each(function(t,e){var n=d.select(this),r=d.select(this.parentNode);0===e&&n.attr("marker-end",r.classed("directed")?"url(#"+i.markerId+")":null)});var c=r.selectAll("text").data(function(t){return[t]});c.enter().append("text").attr("font-size","9px").attr("dominant-baseline","text-after-edge").attr("text-anchor","middle").call(e),l["default"].conditionalTransition(c,!i.nodeDragging).text(function(t){return t.weight}).call(e),c.exit().remove(),r.exit().remove()}var i,a=d.svg.line().x(function(t){return t.x}).y(function(t){return t.y}).tension(1.5).interpolate("bundle");return r.owner=function(t){return arguments.length?(i=t,r):i},r},e.exports=n["default"]},{"../Vector":6,"../utils":17,extend:3}],9:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i=t("../utils"),o=r(i),a=t("../const"),u=window.d3;n["default"]=function(){function t(t){var n=t.selectAll("g.node").data(function(t){return t.nodes},function(t){return t.id}),r=e.layout,i=n.enter().append("g").attr("class",function(t){return"node "+(t["class"]||"")}).attr("id",function(t){return o["default"].ns(t.id)}).attr("transform",function(t){return o["default"].transform({translate:t})}).on("mouseover",function(){var t=u.select(this);t.over||t.style("cursor","pointer"),t.over=!0}).on("mouseout",function(){var t=u.select(this);t.over=!1,t.style("cursor",null)}).attr("opacity",0);i.transition("enter").attr("opacity",1),i.call(r.drag);var s=r.drag().on("dragstart.d3adaptor"),l=r.drag().on("dragend.d3adaptor");r.drag().on("dragstart.d3adaptor",function(){e.nodeDragging=!0,s.apply(void 0,arguments)}).on("dragend.d3adaptor",function(){e.nodeDragging=!1,l.apply(void 0,arguments)}),i.append("circle").attr("fill",function(t){return t.fill}).attr("r",function(t){return t.r}),i.append("text").classed("label",!0).attr("fill","white").attr("font-size","12px").attr("text-anchor","middle").attr("dominant-baseline","central"),n.selectAll("text.label").text(function(t){return"label"in t?t.label:t.id}),i.append("text").classed("outer-top-right",!0).attr("fill",a.colors.BLUE).attr("font-size","9px").attr("text-anchor","start").attr("x",function(t){return t.width/2-2}).attr("y",function(t){return-t.height/2+3}),n.selectAll("text.outer-top-right").text(function(t){return"topRightLabel"in t?t.topRightLabel:void 0}),i.append("text").classed("outer-top-left",!0).attr("fill",a.colors.BLUE).attr("font-size","9px").attr("text-anchor","end").attr("x",function(t){return-t.width/2-2}).attr("y",function(t){return-t.height/2+3}),n.selectAll("text.outer-top-left").text(function(t){return"topRightLabel"in t?t.topLeftLabel:void 0}),o["default"].conditionalTransition(n,!e.nodeDragging).attr("transform",function(t){return o["default"].transform({translate:t})}),n.exit().remove()}var e;return t.owner=function(n){return arguments.length?(e=n,t):e},t},e.exports=n["default"]},{"../const":7,"../utils":17}],10:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){function e(t){var e=y.select(t.target),n=e.attr("greuler-id");return n||(n=d["default"].id(),e.attr("greuler-id",n),v[n]=new s["default"](n,t)),v[n]}return e(t)}Object.defineProperty(n,"__esModule",{value:!0});var o=t("./polyfills"),a=r(o),u=t("./Draw"),s=r(u),l=t("./utils"),d=r(l),c=t("./Graph"),f=r(c),h=t("./const"),g=t("./player/index"),p=r(g);a["default"]();var y=window.d3,v=[];i.Graph=f["default"],i.colors=h.colors,i.player=p["default"],n["default"]=i,e.exports=n["default"]},{"./Draw":4,"./Graph":5,"./const":7,"./player/index":13,"./polyfills":14,"./utils":17}],11:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){r(this,t),this.index=0,this.speed=n,this.actions=e,this.timer=null}return i(t,[{key:"play",value:function(){this.index<this.actions.length&&(this.actions[this.index++](),this.timer=setTimeout(this.play.bind(this),this.speed))}},{key:"pause",value:function(){clearTimeout(this.timer)}},{key:"stop",value:function(){this.pause(),this.index=0}}]),t}();n["default"]=o,e.exports=n["default"]},{}],12:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){r(this,t),this.instance=e,this.speed=n||e.options.animationTime,this.fn=null,this.timer=null}return i(t,[{key:"run",value:function(t){this.fn=t(this.instance),this.play()}},{key:"runAnimation",value:function(t){if(Array.isArray(t))return t.forEach(this.runAnimation,this);if("function"==typeof t)return t(this.instance);var e=this.instance[t.type];return e[t.op].apply(e,t.args||[])}},{key:"play",value:function(t){var e=this,n=this.fn.next(t);if(!n.done){var r=this.speed,i=this.runAnimation(n.value);i&&"object"==typeof i&&"number"==typeof i.delay&&(r=i.delay),this.timer=window.requestTimeout(function(){e.play(n.value)},r)}}},{key:"pause",value:function(){window.clearRequestTimeout(this.timer)}}]),t}();n["default"]=o,e.exports=n["default"]},{}],13:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Fixed"),o=r(i),a=t("./Generator"),u=r(a);n["default"]={FixedInterval:o["default"],Generator:u["default"]},e.exports=n["default"]},{"./Fixed":11,"./Generator":12}],14:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(){!function(t,e){try{t.querySelector(":scope body")}catch(n){["querySelector","querySelectorAll"].forEach(function(n){var r=e[n];e[n]=function(e){if(/(^|,)\s*:scope/.test(e)){var i=this.id;this.id="ID_"+Date.now(),e=e.replace(/((^|,)\s*):scope/g,"$1#"+this.id);var o=t[n](e);return this.id=i,o}return r.call(this,e)}})}}(window.document,Element.prototype),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)}}(),window.requestTimeout=function(t,e){function n(){var o=(new Date).getTime(),a=o-r;a>=e?t.call():i.value=requestAnimFrame(n)}if(!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame&&window.mozCancelRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame))return window.setTimeout(t,e);var r=(new Date).getTime(),i={};return i.value=requestAnimFrame(n),i},window.clearRequestTimeout=function(t){window.cancelAnimationFrame?window.cancelAnimationFrame(t.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(t.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(t.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(t.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(t.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(t.value):clearTimeout(t)}},e.exports=n["default"]},{}],15:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("../utils"),u=r(a),s=t("extend"),l=r(s),d=function(){function t(e){i(this,t),this.owner=e,this.graph=e.graph,this.defaultStyleOptions={}}return o(t,[{key:"getDefaultStyleOptions",value:function(){return l["default"]({duration:this.getAnimationTime(),stroke:"#E74C3C"},this.defaultStyleOptions)}},{key:"getStyleOptions",value:function(t){return l["default"]({},this.getDefaultStyleOptions(),t)}},{key:"getAnimationTime",value:function(){return this.owner.options.animationTime}},{key:"select",value:function(t){return Array.isArray(t)||(t=[t]),t.length||t.push({id:-1}),t=t.filter(Boolean),this.owner.root.selectAll(t.map(function(t){return"#"+u["default"].ns(t.id)}).join(", "))}},{key:"innerEdgeSelector",value:function(t){return t.selectAll("path.base")}},{key:"innerNodeSelector",value:function(t){return t.selectAll("circle")}}]),t}();n["default"]=d,e.exports=n["default"]},{"../utils":17,extend:3}],16:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;u=l=s=void 0,r=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,e=o,n=a,r=!0}},s=t("extend"),l=r(s),d=t("./Graph"),c=r(d),f=window.d3,h="highlight",g=function(t){function e(){i(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return o(e,t),a(e,[{key:"getEdges",value:function(){return this.innerEdgeSelector(this.select(this.graph.edges))}},{key:"getNodes",value:function(){return this.innerNodeSelector(this.select(this.graph.nodes))}},{key:"doTemporalHighlightNode",value:function(t,e){return this.innerNodeSelector(t).transition(h).duration(this.getAnimationTime()/2).attr("r",function(t){return e.r||1.5*t.r}).transition(h).duration(this.getAnimationTime()/2).attr("r",function(t){return t.r})}},{key:"doTemporalHighlightEdges",value:function(t,e){return this.innerEdgeSelector(t).transition(h).duration(this.getAnimationTime()/2).attr("stroke",e.stroke).transition(h).duration(this.getAnimationTime()/2).attr("stroke",function(t){return t.stroke})}},{key:"traverseEdgeWithDirection",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?-1:arguments[2];return t.selectAll("path.traversal").each(function(){var t=f.select(this),n=this.getTotalLength();t.attr("stroke",e.stroke).attr("stroke-dasharray",n+" "+n).attr("stroke-dashoffset",n).attr("opacity",1)}).transition("dasharray").duration(e.duration).attr("stroke-dashoffset",function(t){var r=this.getTotalLength(),i=2*r,o=0;return-1!==n&&t.target.id===n&&(o=i),e.reverse&&(o=i-o),o}).attr("opacity",0).each("end",function(){var t=f.select(this);t.attr("stroke-dasharray",null).attr("stroke-dashoffset",null).attr("opacity",0)})}},{key:"traverseEdges",value:function(t,e,n){return e=l["default"]({keepStroke:!0,reverse:!1},this.getStyleOptions(),e),t.call(this.traverseEdgeWithDirection,e,n),e.keepStroke&&this.innerEdgeSelector(t).transition("update").duration(e.duration).attr("stroke",e.stroke),this.innerEdgeSelector(t)}},{key:"getNode",value:function(t){return this.innerNodeSelector(this.select(this.graph.getNode(t)))}},{key:"getEdge",value:function(t){return this.innerEdgeSelector(this.select(this.graph.getEdge(t)))}},{key:"highlightNode",value:function(t,e){return this.doTemporalHighlightNode(this.select(this.graph.getNode(t)),this.getStyleOptions(e))}},{key:"highlightEdge",value:function(t,e){return this.doTemporalHighlightEdges(this.select(this.graph.getEdge(t)),this.getStyleOptions(e))}},{key:"highlightIncidentEdges",value:function(t,e){return this.doTemporalHighlightEdges(this.select(this.graph.getIncidentEdges(t)),this.getStyleOptions(e))}},{key:"highlightOutgoingEdges",value:function(t,e){return this.doTemporalHighlightEdges(this.select(this.graph.getOutgoingEdges(t)),this.getStyleOptions(e))}},{key:"highlightIncomingEdges",value:function(t,e){return this.doTemporalHighlightEdges(this.select(this.graph.getIncomingEdges(t)),this.getStyleOptions(e))}},{key:"traverseOutgoingEdges",value:function(t,e){return this.traverseEdges(this.select(this.graph.getOutgoingEdges(t)),this.getStyleOptions(e))}},{key:"traverseIncomingEdges",value:function(t,e){return this.traverseEdges(this.select(this.graph.getIncomingEdges(t)),this.getStyleOptions(e))}},{key:"traverseIncidentEdges",value:function(t,e){return this.traverseEdges(this.select(this.graph.getIncidentEdges(t)),this.getStyleOptions(e))}},{key:"traverseEdgesBetween",value:function(t,e){return this.traverseEdges(this.select(this.graph.getEdgesBetween(t)),this.getStyleOptions(e),t.source)}},{key:"traverseAllEdgesBetween",value:function(t,e){return this.traverseEdges(this.select(this.graph.getAllEdgesBetween(t)),this.getStyleOptions(e),t.source)}}]),e}(c["default"]);n["default"]=g,e.exports=n["default"]},{"./Graph":15,extend:3}],17:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i=t("compute-lcg"),o=r(i),a=o["default"](1);n["default"]={id:function(){var t=a(),e=String.fromCharCode(Math.floor(26*t)+97);return e+t.toString(16).substr(2)},transform:function(t){var e="";return"translate"in t&&(e+=" translate("+t.translate.x+", "+t.translate.y+")"),"rotate"in t&&(e+=" rotate("+t.rotate+")"),"scale"in t&&(e+=" scale("+t.scale+")"),e},transition:function(t){return t.transition("layout").duration(300).ease("linear")},conditionalTransition:function(t,e){return e?this.transition(t):t},ns:function(t){return"greuler-"+t}},e.exports=n["default"]},{"compute-lcg":2}]},{},[10])(10)});